# Legacy Implementation - 旧版実装

このディレクトリには、スタック分割前の単一スタック実装が含まれています。

## ⚠️ 重要: 現在は使用されていません

この実装は**参考・比較用**として保持されています。現在のメイン実装は分割スタック構成（`DataStack` + `ApiStack`）です。

## 📁 ファイル

### `slack-integration-stack.ts`
- **作成日**: 2025年7月1日
- **目的**: Serverless FrameworkからCDKへの初期移行版
- **特徴**: 全リソースを単一スタックに集約

```typescript
SlackIntegrationStack (単一スタック)
├── DynamoDB Table          ← 永続データ
├── Lambda Functions        ← 頻繁更新
├── API Gateway            ← 中程度更新
├── IAM Roles              ← 設定変更
└── CloudWatch Logs        ← 一時的データ
```

## 🔄 現在の実装との比較

| 要素 | 旧版（単一スタック） | 現在（分割スタック） |
|------|-------------------|-------------------|
| **構成** | 全て1つのスタック | DataStack + ApiStack |
| **デプロイリスク** | 🔴 高リスク | 🟢 低リスク |
| **更新速度** | 🔴 遅い | 🟢 高速 |
| **データ保護** | 🟡 限定的 | 🟢 完全保護 |
| **保守性** | 🟡 中程度 | 🟢 良好 |

## 🎯 使用場面

### ✅ 使用する場合
1. **設計比較**: 単一vs分割スタックの違いを学習
2. **緊急対応**: 分割スタックに問題が発生した場合の代替案
3. **シンプル構成**: 検証目的で単純な構成が必要な場合

### ❌ 使用しない場合
- **本番運用**: データ保護の観点から非推奨
- **継続開発**: 保守性・拡張性が劣る

## 🚀 現在の推奨実装

現在のメイン実装は以下の分割スタック構成です：

```bash
# メインの実装ファイル
lib/
├── dynamodb.ts      # DataStack（永続リソース）
├── api-stack.ts     # ApiStack（アプリケーション層）
└── legacy/
    └── slack-integration-stack.ts  # 旧版（このファイル）
```

## 📝 移行履歴

1. **2025年7月1日**: Serverless FrameworkからCDK単一スタックに移行
2. **2025年7月18日**: ライフサイクルベースの分割スタックに移行
3. **現在**: 旧版はlegacyディレクトリで参考用として保持

## 🔗 関連ドキュメント

- [メインREADME](../README.md): 現在の分割スタック実装
- [DataStack](../lib/dynamodb.ts): 永続リソース定義
- [ApiStack](../lib/api-stack.ts): アプリケーション層定義
