# 静的ホスティング（S3等）へのデプロイ手順

この章では、Vue3 + Viteで構築したフロントエンド（frontend_vue）をAWS S3などの静的ホスティング環境にデプロイする手順をまとめます。

---

## 1. 本番ビルドの作成

プロジェクトルート（frontend_vue）で以下を実行し、本番用の静的ファイルをビルドします。

```sh
npm run build
```

- `dist/` ディレクトリが生成され、S3にアップロードする静的ファイル一式が出力されます。

---

## 2. S3バケットの作成・設定

- AWSマネジメントコンソールでS3バケットを作成
- 「静的ウェブサイトホスティング」を有効化し、index.htmlをエントリポイントに設定

---

## 3. distディレクトリのアップロード

- S3バケットのルートに、`dist/`配下の全ファイル・ディレクトリをアップロード
- AWS CLI例：
  ```sh
  aws s3 sync dist/ s3://<バケット名>/
  ```
- コンソールからドラッグ＆ドロップでもOK

---

## 4. パーミッション・公開設定

- S3バケットの「パブリックアクセスを許可」や「バケットポリシー」を設定し、外部公開できるようにする

---

## 5. （オプション）CloudFrontや独自ドメインの設定

- CloudFrontを使う場合はS3をオリジンに設定
- 独自ドメインを使う場合はRoute53等でDNS設定

---

### 補足

- ルーティング（historyモード）を使う場合は、S3のエラードキュメントにもindex.htmlを指定（SPAのため）
- .env.productionなどでAPIエンドポイント等の環境変数を切り替える場合は、ビルド前に設定

---

この手順でS3等の静的ホスティング環境にVue3アプリをデプロイできます。
